<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clay County Directory | v6.97 Master</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    
    <link rel="stylesheet" href="style.css?v=6.97">
</head>
<body>

    <header class="main-title">
        <h1>Clay County Directory</h1>
        <div class="newspaper-meta">
            <div id="header-info">VOL. 1 | LOADING...</div>
            <div style="text-transform: uppercase;">Business Directory Pages</div>
        </div>
        
        <div class="filter-nav">
            <div class="filter-group">
                <label for="city-filter">üìç Select City:</label>
                <select id="city-filter" onchange="applyFilters()">
                    <option value="all">All Cities</option>
                    </select>
            </div>
            <div class="filter-group">
                <label for="cat-filter">üìÅ Select Category:</label>
                <select id="cat-filter" onchange="applyFilters()">
                    <option value="all">All Categories</option>
                    </select>
            </div>
        </div>
    </header>

    <div class="site-wrapper">
        <div id="directory-grid"></div>
    </div>

    <div id="premium-modal" class="modal-overlay" style="display:none;">
        <div class="modal-container">
            <span class="close-modal" id="close-modal-btn">√ó</span>
            <div id="modal-body">
                </div>
        </div>
    </div>

    <script>
        const smartV = new Date().getTime(); // Unix timestamp to force asset refresh
        
        // 1. Load the Layout Engine (Data fetch, card build, and filter logic)
        document.write(`<script src="layout.js?v=${smartV}"><\/script>`);
        
        // 2. Load the Modal Engine (Handles card clicks and detailed views)
        document.write(`<script src="modal.js?v=${smartV}"><\/script>`);
    </script>
</body>
</html>
