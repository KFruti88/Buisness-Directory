<script src="https://cdn.jsdelivr.net/gh/KFruti88/Buisness-Directory@main/data.js"></script>

    <script>
        function buildDirectory() {
            const grid = document.getElementById('directory-grid');
            
            // Check if data loaded correctly
            if (typeof clayCountyData === 'undefined') {
                grid.innerHTML = "<h2>Error: Business data could not be loaded.</h2>";
                return;
            }

            // Sort businesses by town name A-Z
            const sortedData = clayCountyData.sort((a, b) => a.town.localeCompare(b.town));

            grid.innerHTML = sortedData.map(biz => `
                <div class="card" onclick="window.location.href='profile.html?id=${biz.id}'">
                    <div class="logo-container">
                        <img src="${biz.logo}" alt="${biz.name} Logo">
                    </div>
                    <div class="town-bar ${biz.town.toLowerCase()}-bar">
                        ${biz.town}
                    </div>
                    <div class="biz-name">${biz.name}</div>
                    <div class="phone-row">
                        Phone : ${biz.phone || 'N/A'}
                    </div>
                </div>
            `).join('');
        }

        // Initialize the directory on page load
        window.onload = buildDirectory;
    </script>
</body>
</html>
